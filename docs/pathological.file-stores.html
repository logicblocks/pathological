<!DOCTYPE html PUBLIC ""
    "">

<html><head><meta charset="UTF-8" /><title>pathological.file-stores documentation</title><link rel="stylesheet" type="text/css" href="css/default.css" /><link rel="stylesheet" type="text/css" href="css/highlight.css" /><script type="text/javascript" src="js/highlight.min.js"></script><script type="text/javascript" src="js/jquery.min.js"></script><script type="text/javascript" src="js/page_effects.js"></script><script>hljs.initHighlightingOnLoad();</script></head><body><div id="header"><h2>Generated by <a href="https://github.com/weavejester/codox">Codox</a></h2><h1><a href="index.html"><span class="project-title"><span class="project-name">Pathological</span> <span class="project-version">0.1.21</span></span></a></h1></div><div class="sidebar primary"><h3 class="no-link"><span class="inner">Project</span></h3><ul class="index-link"><li class="depth-1 "><a href="index.html"><div class="inner">Index</div></a></li></ul><h3 class="no-link"><span class="inner">Namespaces</span></h3><ul><li class="depth-1"><div class="no-link"><div class="inner"><span class="tree"><span class="top"></span><span class="bottom"></span></span><span>pathological</span></div></div></li><li class="depth-2 branch"><a href="pathological.attribute-specs.html"><div class="inner"><span class="tree"><span class="top"></span><span class="bottom"></span></span><span>attribute-specs</span></div></a></li><li class="depth-2 branch"><a href="pathological.attributes.html"><div class="inner"><span class="tree"><span class="top"></span><span class="bottom"></span></span><span>attributes</span></div></a></li><li class="depth-2 branch current"><a href="pathological.file-stores.html"><div class="inner"><span class="tree"><span class="top"></span><span class="bottom"></span></span><span>file-stores</span></div></a></li><li class="depth-2 branch"><a href="pathological.file-systems.html"><div class="inner"><span class="tree"><span class="top"></span><span class="bottom"></span></span><span>file-systems</span></div></a></li><li class="depth-2 branch"><a href="pathological.files.html"><div class="inner"><span class="tree"><span class="top"></span><span class="bottom"></span></span><span>files</span></div></a></li><li class="depth-2 branch"><a href="pathological.path-matchers.html"><div class="inner"><span class="tree"><span class="top"></span><span class="bottom"></span></span><span>path-matchers</span></div></a></li><li class="depth-2 branch"><a href="pathological.paths.html"><div class="inner"><span class="tree"><span class="top"></span><span class="bottom"></span></span><span>paths</span></div></a></li><li class="depth-2 branch"><a href="pathological.principals.html"><div class="inner"><span class="tree"><span class="top"></span><span class="bottom"></span></span><span>principals</span></div></a></li><li class="depth-2 branch"><a href="pathological.testing.html"><div class="inner"><span class="tree"><span class="top"></span><span class="bottom"></span></span><span>testing</span></div></a></li><li class="depth-2"><a href="pathological.utils.html"><div class="inner"><span class="tree"><span class="top"></span><span class="bottom"></span></span><span>utils</span></div></a></li></ul></div><div class="sidebar secondary"><h3><a href="#top"><span class="inner">Public Vars</span></a></h3><ul><li class="depth-1"><a href="pathological.file-stores.html#var-*file-store-attribute-view-factories*"><div class="inner"><span>*file-store-attribute-view-factories*</span></div></a></li><li class="depth-1"><a href="pathological.file-stores.html#var--.3Efile-store"><div class="inner"><span>-&gt;file-store</span></div></a></li><li class="depth-1"><a href="pathological.file-stores.html#var--.3Efile-store-attribute-view-factory"><div class="inner"><span>-&gt;file-store-attribute-view-factory</span></div></a></li><li class="depth-1"><a href="pathological.file-stores.html#var-FileAttributeViewSupport"><div class="inner"><span>FileAttributeViewSupport</span></div></a></li><li class="depth-2"><a href="pathological.file-stores.html#var-supports-file-attribute-view"><div class="inner"><span class="tree"><span class="top"></span><span class="bottom"></span></span><span>supports-file-attribute-view</span></div></a></li><li class="depth-1"><a href="pathological.file-stores.html#var-FileStoreAttributeViewSupport"><div class="inner"><span>FileStoreAttributeViewSupport</span></div></a></li><li class="depth-2 branch"><a href="pathological.file-stores.html#var-read-attribute"><div class="inner"><span class="tree"><span class="top"></span><span class="bottom"></span></span><span>read-attribute</span></div></a></li><li class="depth-2"><a href="pathological.file-stores.html#var-read-file-store-attribute-view"><div class="inner"><span class="tree"><span class="top"></span><span class="bottom"></span></span><span>read-file-store-attribute-view</span></div></a></li><li class="depth-1"><a href="pathological.file-stores.html#var-ReloadFileStoreAttributes"><div class="inner"><span>ReloadFileStoreAttributes</span></div></a></li><li class="depth-2"><a href="pathological.file-stores.html#var-reload"><div class="inner"><span class="tree"><span class="top"></span><span class="bottom"></span></span><span>reload</span></div></a></li></ul></div><div class="namespace-docs" id="content"><h1 class="anchor" id="top">pathological.file-stores</h1><div class="doc"><div class="markdown"></div></div><div class="public anchor" id="var-*file-store-attribute-view-factories*"><h3>*file-store-attribute-view-factories*</h3><h4 class="dynamic">dynamic</h4><div class="usage"></div><div class="doc"><div class="markdown"><p>A mapping of available file store attribute view types to factory functions for materialised records.</p>
<p>By default, there are no factories defined since Java NIO2 does not include any file store attribute views. However, since the file store attribute view framework is extensible and implementation dependent in Java NIO2, this var is dynamic and can be altered / rebound to support additional file store attribute views.</p></div></div><div class="src-link"><a href="https://github.com/logicblocks/pathological/blob/0.1.21/src/pathological/file_stores.clj#L74">view source</a></div></div><div class="public anchor" id="var--.3Efile-store"><h3>-&gt;file-store</h3><div class="usage"><code>(-&gt;file-store file-store)</code></div><div class="doc"><div class="markdown"><p>Converts the <a href="https://docs.oracle.com/javase/7/docs/api/java/nio/file/FileStore.html">FileStore</a> instance to a materialised record.</p>
<p>The returned record includes:</p>
<ul>
  <li><code>:name</code>: the name of the file store,</li>
  <li><code>:type</code>: the type of the file store,</li>
  <li><code>:read-only?</code>: whether or not the file store is read only, as a boolean,</li>
  <li><code>:total-space</code>: the total space in the file store, in bytes,</li>
  <li><code>:usable-space</code>: the usable space for this JVM in the file store, in bytes,</li>
  <li><code>:unallocated-space</code>: the unallocated space in the file store, in bytes,</li>
  <li><code>:block-size</code>: the block size of the file store, when available, in bytes; <code>nil</code> when not available,</li>
  <li><code>:delegate</code>: the underlying instance.</li>
</ul>
<p>The returned record implements <a href="pathological.file-stores.html#var-ReloadFileStoreAttributes">ReloadFileStoreAttributes</a>, <a href="pathological.file-stores.html#var-FileAttributeViewSupport">FileAttributeViewSupport</a> and <a href="pathological.file-stores.html#var-FileStoreAttributeViewSupport">FileStoreAttributeViewSupport</a>.</p></div></div><div class="src-link"><a href="https://github.com/logicblocks/pathological/blob/0.1.21/src/pathological/file_stores.clj#L127">view source</a></div></div><div class="public anchor" id="var--.3Efile-store-attribute-view-factory"><h3>-&gt;file-store-attribute-view-factory</h3><div class="usage"><code>(-&gt;file-store-attribute-view-factory type)</code></div><div class="doc"><div class="markdown"><p>Returns a file store attribute view factory for building materialised records for the supplied file store attribute view type when available. If no factory is available, an identity factory is returned which leaves the provided view unchanged.</p>
<p>See <a href="pathological.file-stores.html#var-*file-store-attribute-view-factories*">*file-store-attribute-view-factories*</a> for details on supported types.</p></div></div><div class="src-link"><a href="https://github.com/logicblocks/pathological/blob/0.1.21/src/pathological/file_stores.clj#L85">view source</a></div></div><div class="public anchor" id="var-FileAttributeViewSupport"><h3>FileAttributeViewSupport</h3><h4 class="type">protocol</h4><div class="usage"></div><div class="doc"><div class="markdown"><p>A protocol allowing the file attribute view support of a file store to be determined.</p></div></div><div class="members"><h4>members</h4><div class="inner"><div class="public anchor" id="var-supports-file-attribute-view"><h3>supports-file-attribute-view</h3><div class="usage"><code>(supports-file-attribute-view file-store class-or-type)</code></div><div class="doc"><div class="markdown"><p>Returns true if the file store supports the file attribute view identified by the class or type; returns false otherwise.</p>
<p>The class or type argument should be:</p>
<ul>
  <li>a <a href="https://docs.oracle.com/javase/7/docs/api/java/lang/Class.html">Class</a> instance corresponding to a class implementing <a href="https://docs.oracle.com/javase/7/docs/api/java/nio/file/attribute/FileAttributeView.html">FileAttributeView</a>,</li>
  <li>a string or keyword representing the view name of the file attribute view, defined by the underlying file system implementation.</li>
</ul></div></div></div></div></div><div class="src-link"><a href="https://github.com/logicblocks/pathological/blob/0.1.21/src/pathological/file_stores.clj#L10">view source</a></div></div><div class="public anchor" id="var-FileStoreAttributeViewSupport"><h3>FileStoreAttributeViewSupport</h3><h4 class="type">protocol</h4><div class="usage"></div><div class="doc"><div class="markdown"><p>A protocol allowing the file store attribute view support of a file store to be determined, allowing attributes to be read in the case that file store attribute views are supported.</p>
<p>By default, Java NIO2 does not include any file store attribute views. However, the file store attribute view framework is extensible and implementation dependent so this protocol is provided in the case that a file system is in use that does provide file store attribute views.</p></div></div><div class="members"><h4>members</h4><div class="inner"><div class="public anchor" id="var-read-attribute"><h3>read-attribute</h3><div class="usage"><code>(read-attribute file-store attribute-spec)</code></div><div class="doc"><div class="markdown"><p>Reads the attribute defined by the given attribute spec from the file store.</p>
<p>The attribute spec should be as defined in <a href="pathological.attribute-specs.html#var--.3Eattribute-spec">pathological.attribute-specs/-&gt;attribute-spec</a>.</p></div></div></div><div class="public anchor" id="var-read-file-store-attribute-view"><h3>read-file-store-attribute-view</h3><div class="usage"><code>(read-file-store-attribute-view file-store class-or-type)</code></div><div class="doc"><div class="markdown"><p>Reads a file store attribute view of the given class or type from the file store.</p>
<p>The class or type argument should be:</p>
<ul>
  <li>a <a href="https://docs.oracle.com/javase/7/docs/api/java/lang/Class.html">Class</a> instance corresponding to a class implementing <a href="https://docs.oracle.com/javase/7/docs/api/java/nio/file/attribute/FileStoreAttributeView.html">FileStoreAttributeView</a>,</li>
  <li>a string or keyword representing the view name of the file store attribute view, defined by the underlying file system implementation.</li>
</ul></div></div></div></div></div><div class="src-link"><a href="https://github.com/logicblocks/pathological/blob/0.1.21/src/pathological/file_stores.clj#L25">view source</a></div></div><div class="public anchor" id="var-ReloadFileStoreAttributes"><h3>ReloadFileStoreAttributes</h3><h4 class="type">protocol</h4><div class="usage"></div><div class="doc"><div class="markdown"><p>A protocol allowing file store attribute views to be reloaded from the backing file system.</p></div></div><div class="members"><h4>members</h4><div class="inner"><div class="public anchor" id="var-reload"><h3>reload</h3><div class="usage"><code>(reload view)</code></div><div class="doc"><div class="markdown"><p>Reloads all attributes of the view.</p></div></div></div></div></div><div class="src-link"><a href="https://github.com/logicblocks/pathological/blob/0.1.21/src/pathological/file_stores.clj#L52">view source</a></div></div></div></body></html>